import{error as d,warn as f,info as u,trace as p,debug as l}from"console";function n(o,t,g,e,s,i){let m={date:new Date,pid:process.pid,level:t,namespace:g,message:e};i?.(m),o(s(m))}function a(o,t){let g=[];async function e(r){if(t?.sink){if(g.push(r),t?.queue&&g.length>=t.queue)await Promise.resolve(t.sink(g))}}function s(r){return`${r.date.toDateString()} [${r.level}] [${r.namespace}] ${r.pid} ${r.message}`}let i=t?.formatter||s;return{info:(r)=>n(u,"INFO",o,r,i,t?.sink?e:void 0),error:(r)=>n(d,"ERROR",o,r,i,t?.sink?e:void 0),warn:(r)=>n(f,"WARN",o,r,i,t?.sink?e:void 0),debug:(r)=>n(l,"DEBUG",o,r,i,t?.sink?e:void 0),trace:(r)=>n(p,"TRACE",o,r,i,t?.sink?e:void 0)}}export{a as logger};
