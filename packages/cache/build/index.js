var i={};function T(t,e,r,s){function l(){let o=new Date;return o.setSeconds(o.getSeconds()+s),o}if(!i[t])i[t]={};i[t][e]={value:r,expires:l()}}function x(t,e){if(t in n){if(e)delete i[t][e]}}function v(t){delete i[t]}function b(t,e){if(t in i){if(e in i[t]){let r=i[t][e];if(new Date>r.expires)return delete i[t][e],null;return r.value}return null}return null}var n={create:T,delete:x,deleteAll:v,read:b};function f(t,e){n.delete(t,e)}async function c(t,e,r,s){let l=n.read(t,e);if(l)return l;let o=Promise.resolve(s);return n.create(t,e,o,r),o}function g(t,e,r,s){n.create(t,e,r,s)}function m(t){n.deleteAll(t)}function V(t,e){let{ttl:r}=e;function s(u,d){return c(t,u,r,d)}function l(u){return f(t,u)}function o(){return m(t)}function a(u,d){g(t,u,d,r)}return{get:s,invalidate:l,invalidateAll:o,set:a}}export{V as cache};
